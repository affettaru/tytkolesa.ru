<? namespace Bitrix\Main;$GLOBALS['____921485110']= array(base64_decode(''.'ZmlsZV9leG'.'lz'.'dHM='),base64_decode('c3'.'Ryd'.'G'.'91'.'cHBlc'.'g=='),base64_decode('b'.'WQ1'),base64_decode('b'.'WQ1'),base64_decode('aW5'.'fYXJ'.'yYXk='),base64_decode('aW'.'5f'.'YX'.'JyYX'.'k='),base64_decode('aW5fY'.'XJyYXk='),base64_decode('Z'.'GVma'.'W'.'5lZA=='),base64_decode('ZG'.'VmaW'.'5lZ'.'A=='),base64_decode('ZG'.'VmaW5lZA=='),base64_decode('ZmlsZ'.'V9'.'le'.'GlzdHM='),base64_decode('Z'.'mlsZV9leGlzdHM='),base64_decode('ZmlsZV9l'.'eGlzdH'.'M='),base64_decode('Zml'.'sZV9leGlz'.'dH'.'M'.'='),base64_decode('ZXhwb'.'G9kZQ=='));if(!function_exists(__NAMESPACE__.'\\___714143651')){function ___714143651($_815215307){static $_141420629= false; if($_141420629 == false) $_141420629=array('L2'.'J'.'pdHJpe'.'C9saWNlbnNlX2t'.'leS5w'.'a'.'HA=','','','REV'.'NTw==','REVN'.'Tw==','QklU'.'UklY','TE'.'l'.'D'.'RU5DRQ==','R'.'EV'.'NTw==','L2tl'.'eV9'.'1cG'.'Rhd'.'G'.'Uu'.'cGhw'.'P2xpY2Vuc2V'.'fa2'.'V5PQ==','Jn'.'RvYmFz'.'a2V0PXkmb'.'GFu'.'Zz0'.'=',''.'c'.'nU=','a'.'3'.'o'.'=','Ynk=','aHR'.'0cHM6Ly9kZXYu'.'MW'.'M'.'tYml0cml4'.'LnJ1L2xl'.'YXJuaW5n'.'L'.'2NvdX'.'JzZS9'.'p'.'bmRleC5waHA/Q'.'09VUlNFX0lEPTE'.'zNSZMRVNTT05fS'.'U'.'Q'.'9M'.'jU3M'.'jA=','aHR0cHM6L'.'y'.'9'.'0cmFpbmluZy5iaXRyaXgyN'.'C'.'5j'.'b'.'20v'.'c3V'.'wc'.'G9ydC90c'.'m'.'F'.'pbm'.'luZy9jb'.'3Vyc2U'.'vaW5kZ'.'XgucGhwP0NPVVJT'.'RV9JRD'.'0xNzgmTE'.'VTU0'.'9OX0'.'lE'.'PTI'.'1OTMyJkxFU1NPTl9QQVRIP'.'TE'.'3NT'.'Iw'.'LjE'.'3NTYy'.'LjI1OT'.'MwL'.'jI1OTMy','c'.'nU=','Yn'.'k=','a3o=','ZGU=','Z'.'XU'.'=','ZnI'.'=',''.'c'.'Gw=','a'.'XQ=','dWs=','ZXU'.'=','Y2'.'9t','Z'.'W4=','REVNTw==','W'.'Q='.'=','VElNRUxJTUlU'.'X0VES'.'VRJT04=','WQ==',''.'RU5'.'DT0R'.'F','W'.'Q='.'=','U'.'2l0ZU'.'V4cGly'.'ZURhdGU'.'=','b'.'W'.'Fpbg==','fn'.'N'.'1'.'c'.'HB'.'vcnR'.'f'.'Zml'.'uaXNoX2RhdG'.'U'.'=','W'.'S1t'.'LWQ'.'=','WS1tLWQ=','Ym'.'l0'.'cml4Mj'.'Q=',''.'b'.'WFpb'.'g==','flB'.'BUk'.'FNX0NM'.'SUVOV'.'F'.'9MQ'.'U5H',''.'a'.'W5'.'0cmF'.'u'.'ZX'.'Q'.'=','ZW4=','cn'.'U=','bWFpb'.'g==','dmVuZ'.'G9'.'y','dWFfYml0cml4X3B'.'vcnRhbA==','dWE=','Yml0cml4X3Bvcn'.'RhbA==','ZW4=',''.'MWNfYml0cml4X3'.'B'.'vc'.'n'.'RhbA='.'=','cn'.'U=','L2JpdHJpeC'.'9tb2R1bGVzL2'.'1haW4vbGFuZy9'.'1YQ==','dWE=','L'.'2Jp'.'dHJ'.'peC9tb2R1bG'.'VzL21ha'.'W4vbGFuZ'.'y9ieQ==',''.'Ynk=',''.'L'.'2J'.'pd'.'HJpeC9t'.'b2R1bGVzL21'.'haW'.'4vbG'.'FuZy9reg==','a3o=',''.'L'.'2'.'JpdHJpe'.'C9tb'.'2R1bGVzL'.'21haW4vbGFuZy9y'.'dQ==','c'.'nU'.'=',''.'b'.'W'.'Fpb'.'g==','flBBUk'.'FNX1BBU'.'lR'.'OR'.'V'.'JfSUQ=',''.'bW'.'Fpbg'.'==','UEFS'.'QU1fTUFYX'.'1'.'V'.'TRVJ'.'T',''.'b'.'WFpbg==','fkNPVU5UX'.'0VYVFJB','Tg==','WQ==','Z'.'Xh0cmFuZX'.'Q=','Q'.'U5EIFUuTEFTVF9MT0dJTiA+IA'.'='.'=','QU5EIFUuT'.'EFTVF9MT0'.'dJTiB'.'JUyBOT1Qg'.'Tl'.'VM'.'TA='.'=','aW'.'50cmFuZ'.'XQ=','Z'.'Xh'.'0cmFuZXQ=',''.'ZX'.'h'.'0cm'.'FuZXRfZ3JvdXA=','bWFpbg==','fmxpY2'.'Vu'.'c'.'2Vfbm'.'FtZQ==','bWFpbg'.'='.'=','fmxpY2'.'Vu'.'c2VfY29'.'kZXM=','','LA='.'=');return base64_decode($_141420629[$_815215307]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1863670218= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1863670218 === null){ $_1761607564= Loader::getDocumentRoot(). ___714143651(0); $LICENSE_KEY= ___714143651(1); if($GLOBALS['____921485110'][0]($_1761607564)){ include($_1761607564);} $this->_1863670218=($LICENSE_KEY == ___714143651(2) || $GLOBALS['____921485110'][1]($LICENSE_KEY) == ___714143651(3)? ___714143651(4): $LICENSE_KEY);} return $this->_1863670218;} public function getHashLicenseKey(): string{ return $GLOBALS['____921485110'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____921485110'][3](___714143651(5). $this->getKey(). ___714143651(6));} public function isDemoKey(): bool{ return $this->getKey() == ___714143651(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___714143651(8). $this->getHashLicenseKey(). ___714143651(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_970536597= $this->getRegion(); if($GLOBALS['____921485110'][4]($_970536597,[___714143651(10), ___714143651(11), ___714143651(12)])){ return ___714143651(13);} return ___714143651(14);} public function getRenewalLink(): string{ $_970536597= $this->getRegion(); if($GLOBALS['____921485110'][5]($_970536597,[___714143651(15), ___714143651(16), ___714143651(17), ___714143651(18)])){ return self::URL_RENEWAL_LICENSE[$_970536597];} if($GLOBALS['____921485110'][6]($_970536597,[___714143651(19), ___714143651(20), ___714143651(21), ___714143651(22), ___714143651(23)])){ return self::URL_RENEWAL_LICENSE[___714143651(24)];} return self::URL_RENEWAL_LICENSE[___714143651(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___714143651(26)];} public function isDemo(): bool{ return $GLOBALS['____921485110'][7](___714143651(27)) && DEMO === ___714143651(28);} public function isTimeBound(): bool{ return $GLOBALS['____921485110'][8](___714143651(29)) && TIMELIMIT_EDITION === ___714143651(30);} public function isEncoded(): bool{ return $GLOBALS['____921485110'][9](___714143651(31)) && ENCODE === ___714143651(32);} public function getExpireDate():?Date{ $_2132889720= (int)($GLOBALS[___714143651(33)] ??(1156/2-578)); if($_2132889720> min(104,0,34.666666666667)){ return Date::createFromTimestamp($_2132889720);} return null;} public function getSupportExpireDate():?Date{ $_2132889720= Option::get(___714143651(34), ___714143651(35)); if(Date::isCorrect($_2132889720, ___714143651(36))){ return new Date($_2132889720, ___714143651(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___714143651(38))){ return \CBitrix24::getPortalZone();} $_970536597= Option::get(___714143651(39), ___714143651(40)); if(!empty($_970536597)){ return $_970536597;} $_970536597= $this->__1737503298(); if(!empty($_970536597)){ return $_970536597;} return $this->__1690251375();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___714143651(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___714143651(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___714143651(43)];} private function __1737503298():?string{ $_54937544= Option::get(___714143651(44), ___714143651(45)); if($_54937544 === ___714143651(46)){ return ___714143651(47);} if($_54937544 === ___714143651(48)){ return ___714143651(49);} if($_54937544 === ___714143651(50)){ return ___714143651(51);} return null;} private function __1690251375():?string{ $_1553356813= Application::getDocumentRoot(); if($GLOBALS['____921485110'][10]($_1553356813. ___714143651(52))){ return ___714143651(53);} if($GLOBALS['____921485110'][11]($_1553356813. ___714143651(54))){ return ___714143651(55);} if($GLOBALS['____921485110'][12]($_1553356813. ___714143651(56))){ return ___714143651(57);} if($GLOBALS['____921485110'][13]($_1553356813. ___714143651(58))){ return ___714143651(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___714143651(60), ___714143651(61),(219*2-438));} public function getMaxUsers(): int{ return (int)Option::get(___714143651(62), ___714143651(63),(1036/2-518));} public function isExtraCountable(): bool{ return Option::get(___714143651(64), ___714143651(65), ___714143651(66)) === ___714143651(67) && ModuleManager::isModuleInstalled(___714143651(68));} public function getActiveUsersCount(Date $_1395071838= null): int{ $_1170694955= Application::getConnection(); $_1034057473= min(66,0,22); if($_1395071838 !== null){  $_565652243= ___714143651(69).$_1170694955->getSqlHelper()->convertToDbDate($_1395071838);} else{  $_565652243= ___714143651(70);} if(ModuleManager::isModuleInstalled(___714143651(71))){ $_1679150205="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_565652243}
			"; $_1034057473= (int)$_1170694955->queryScalar($_1679150205); $_980808370= (int)Option::get(___714143651(72), ___714143651(73)); if($_980808370>(922-2*461) && $this->isExtraCountable()){ $_1679150205="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_980808370}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_565652243}
							AND D.VALUE_ID IS NULL
					"; $_1034057473 += (int)$_1170694955->queryScalar($_1679150205);}} return $_1034057473;}  public function getName(): string{ return Option::get(___714143651(74), ___714143651(75));}  public function getCodes(): array{ $_748641478= Option::get(___714143651(76), ___714143651(77)); if($_748641478 != ___714143651(78)){ return $GLOBALS['____921485110'][14](___714143651(79), $_748641478);} return[];}}?>